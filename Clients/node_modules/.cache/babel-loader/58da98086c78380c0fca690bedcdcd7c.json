{"ast":null,"code":"var _jsxFileName = \"/Users/university/Documents/SIT313/Tasks /Task 10.2 /client/src/components/FindTask.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport TaskList from './Task_List';\nimport Search from './Find';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ContextContainer = /*#__PURE__*/React.createContext(null); // creating context global varuiable to hold state\n\nfunction FindTask() {\n  _s();\n\n  const [refreshed, updateRefreshed] = useState(true);\n  const [Task, setTask] = useState({});\n  const [searchTerm, setSearchTerm] = useState({\n    criteria: \"title\",\n    term: \"\"\n  });\n\n  function searchTasks(e) {\n    //setSearchTerm(e.target.value);\n    setSearchTerm({ ...searchTerm,\n      term: e.target.value\n    }); // keep appstate and update\n  }\n\n  function setCriteria(e) {\n    //console.log('crit: '+e.target.value);\n    //setSearchCriteria(e.target.value);\n    setSearchTerm({ ...searchTerm,\n      criteria: e.target.value\n    }); // keep appstate and update\n  }\n\n  const handleDelete = e => {\n    e.stopPropagation(); // stop event bubbling, ie trigger of modal      \n\n    let tmpId = e.target.id;\n    let filteredList = Task.data.filter(function (task) {\n      return task._id != tmpId;\n    });\n    setTask({ ...Task,\n      data: filteredList\n    }); // update data\n  };\n\n  if (refreshed) {\n    // on refresh get list from db\n    getTasks();\n    updateRefreshed(false);\n  }\n\n  function getTasks() {\n    // helper function to get data from db and add it to state.\n    axios.get('http://localhost:5000/task').then(res => {\n      if (typeof Task.data === 'undefined') {\n        setTask({\n          data: res.data\n        }); // assign data\n      }\n    }).catch(() => {\n      console.log(\"Error getting data.\");\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(ContextContainer.Provider, {\n      value: {\n        searchTerm,\n        setSearchTerm\n      },\n      children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: \"100%\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Search, {\n          ContextContainer: ContextContainer,\n          onChange: searchTasks,\n          setCriteria: setCriteria\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TaskList, {\n        data: Task.data,\n        ContextContainer: ContextContainer,\n        handleDelete: handleDelete\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n}\n\n_s(FindTask, \"amS6uACM5qfGDJTXlCPTinwb20Q=\");\n\n_c = FindTask;\nexport default FindTask;\n\nvar _c;\n\n$RefreshReg$(_c, \"FindTask\");","map":{"version":3,"sources":["/Users/university/Documents/SIT313/Tasks /Task 10.2 /client/src/components/FindTask.jsx"],"names":["React","useState","axios","TaskList","Search","ContextContainer","createContext","FindTask","refreshed","updateRefreshed","Task","setTask","searchTerm","setSearchTerm","criteria","term","searchTasks","e","target","value","setCriteria","handleDelete","stopPropagation","tmpId","id","filteredList","data","filter","task","_id","getTasks","get","then","res","catch","console","log","width"],"mappings":";;;AAAA,OAAOA,KAAP,IAAcC,QAAd,QAA6B,OAA7B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,aAArB;AACA,OAAOC,MAAP,MAAmB,QAAnB;;AAGA,MAAMC,gBAAgB,gBAAGL,KAAK,CAACM,aAAN,CAAoB,IAApB,CAAzB,C,CAAoD;;AAKpD,SAASC,QAAT,GAAmB;AAAA;;AACf,QAAM,CAACC,SAAD,EAAYC,eAAZ,IAA+BR,QAAQ,CAAC,IAAD,CAA7C;AACA,QAAM,CAACS,IAAD,EAAOC,OAAP,IAAkBV,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACW,UAAD,EAAaC,aAAb,IAA8BZ,QAAQ,CAAC;AAACa,IAAAA,QAAQ,EAAE,OAAX;AAAoBC,IAAAA,IAAI,EAAE;AAA1B,GAAD,CAA5C;;AAEA,WAASC,WAAT,CAAqBC,CAArB,EAAuB;AACnB;AACAJ,IAAAA,aAAa,CAAC,EAAE,GAAGD,UAAL;AAAiBG,MAAAA,IAAI,EAAGE,CAAC,CAACC,MAAF,CAASC;AAAjC,KAAD,CAAb,CAFmB,CAEsC;AAC5D;;AAED,WAASC,WAAT,CAAqBH,CAArB,EAAuB;AACnB;AACA;AACAJ,IAAAA,aAAa,CAAC,EAAE,GAAGD,UAAL;AAAiBE,MAAAA,QAAQ,EAAGG,CAAC,CAACC,MAAF,CAASC;AAArC,KAAD,CAAb,CAHmB,CAG0C;AAChE;;AAED,QAAME,YAAY,GAAIJ,CAAD,IAAO;AACxBA,IAAAA,CAAC,CAACK,eAAF,GADwB,CACH;;AACrB,QAAIC,KAAK,GAAGN,CAAC,CAACC,MAAF,CAASM,EAArB;AACA,QAAIC,YAAY,GAAGf,IAAI,CAACgB,IAAL,CAAUC,MAAV,CAAiB,UAAUC,IAAV,EAAgB;AAChD,aAAOA,IAAI,CAACC,GAAL,IAAYN,KAAnB;AACH,KAFkB,CAAnB;AAIAZ,IAAAA,OAAO,CAAC,EAAE,GAAGD,IAAL;AAAWgB,MAAAA,IAAI,EAAGD;AAAlB,KAAD,CAAP,CAPwB,CAOmB;AAC9C,GARD;;AAUA,MAAGjB,SAAH,EAAa;AAAE;AACXsB,IAAAA,QAAQ;AACRrB,IAAAA,eAAe,CAAC,KAAD,CAAf;AACH;;AAED,WAASqB,QAAT,GAAmB;AAAE;AACjB5B,IAAAA,KAAK,CAAC6B,GAAN,CAAU,4BAAV,EACCC,IADD,CACOC,GAAD,IAAO;AACT,UAAG,OAAOvB,IAAI,CAACgB,IAAZ,KAAqB,WAAxB,EAAoC;AAChCf,QAAAA,OAAO,CAAC;AAACe,UAAAA,IAAI,EAAGO,GAAG,CAACP;AAAZ,SAAD,CAAP,CADgC,CACH;AAChC;AACJ,KALD,EAMCQ,KAND,CAMO,MAAI;AACPC,MAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACH,KARD;AAUH;;AAED,sBACI;AAAA,2BACI,QAAC,gBAAD,CAAkB,QAAlB;AAA2B,MAAA,KAAK,EAAE;AAAExB,QAAAA,UAAF;AAAcC,QAAAA;AAAd,OAAlC;AAAA,mCACI;AAAK,QAAA,KAAK,EAAE;AAACwB,UAAAA,KAAK,EAAE;AAAR,SAAZ;AAAA,+BACI,QAAC,MAAD;AAAQ,UAAA,gBAAgB,EAAIhC,gBAA5B;AAA8C,UAAA,QAAQ,EAAEW,WAAxD;AAAqE,UAAA,WAAW,EAAEI;AAAlF;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cADJ,eAII,QAAC,QAAD;AAAU,QAAA,IAAI,EAAEV,IAAI,CAACgB,IAArB;AAA2B,QAAA,gBAAgB,EAAIrB,gBAA/C;AAAiE,QAAA,YAAY,EAAEgB;AAA/E;AAAA;AAAA;AAAA;AAAA,cAJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAWH;;GAvDQd,Q;;KAAAA,Q;AAyDT,eAAeA,QAAf","sourcesContent":["import React,{useState} from 'react';\nimport axios from 'axios';\nimport TaskList from './Task_List';\nimport Search from './Find'\n\n\nconst ContextContainer = React.createContext(null); // creating context global varuiable to hold state\n\n\n\n\nfunction FindTask(){\n    const [refreshed, updateRefreshed] = useState(true);\n    const [Task, setTask] = useState({});\n    const [searchTerm, setSearchTerm] = useState({criteria: \"title\", term: \"\"});\n\n    function searchTasks(e){\n        //setSearchTerm(e.target.value);\n        setSearchTerm({ ...searchTerm, term : e.target.value }); // keep appstate and update\n    }\n\n    function setCriteria(e){\n        //console.log('crit: '+e.target.value);\n        //setSearchCriteria(e.target.value);\n        setSearchTerm({ ...searchTerm, criteria : e.target.value }); // keep appstate and update\n    }\n\n    const handleDelete = (e) => {\n        e.stopPropagation(); // stop event bubbling, ie trigger of modal      \n        let tmpId = e.target.id;\n        let filteredList = Task.data.filter(function (task) {\n            return task._id != tmpId;\n        });\n\n        setTask({ ...Task, data : filteredList }); // update data\n    };\n    \n    if(refreshed){ // on refresh get list from db\n        getTasks();\n        updateRefreshed(false);\n    }\n\n    function getTasks(){ // helper function to get data from db and add it to state.\n        axios.get('http://localhost:5000/task')\n        .then((res)=>{\n            if(typeof Task.data === 'undefined'){\n                setTask({data : res.data }); // assign data\n            }           \n        })\n        .catch(()=>{\n            console.log(\"Error getting data.\");\n        });\n        \n    }\n\n    return(\n        <div>\n            <ContextContainer.Provider value={{ searchTerm, setSearchTerm }}> {/* used to provide access to state across siblings */}\n                <div style={{width: \"100%\"}}>\n                    <Search ContextContainer = {ContextContainer} onChange={searchTasks} setCriteria={setCriteria}/>                 \n                </div>\n                <TaskList data={Task.data} ContextContainer = {ContextContainer} handleDelete={handleDelete} />\n            </ContextContainer.Provider>       \n        </div>\n        \n    )\n}\n\nexport default FindTask;"]},"metadata":{},"sourceType":"module"}